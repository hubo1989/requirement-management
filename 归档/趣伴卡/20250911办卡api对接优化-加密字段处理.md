  一、因万丈金数的交通银行api接口，必须传姓名、手机号、身份证号三个参数才能正常接入，需在api接口参数中增加idNo字段，当下游调用api接口时，正确处理该参数，并按照控台中配置加密后，正确传输至上游，接口文档及信安审核意见见附件。

  二、另为配合该参数的配置，在控台渠道管理-api模板配置菜单中，需进行以下优化：

  2.1新建API模板配置、修改API模板配置弹窗的参数-参数类型下拉框增加申请人姓名、申请人手机号、申请人身份证三个选项：

![](https://raw.githubusercontent.com/hubo1989/mypic/main/image/1757580148193.png?token=AAF4AIGYWH2CJQ72QP4YZFTIYKF3E)

选择后，可在组装参数体时，按订单中用于匹配的三要素信息中的参数分别进行处理。

  2.2新建API模板配置、修改API模板配置弹窗的参数-参数体中，字是否参与签名右侧增加一列，加密方式，默认值：“无需加密”。可选项为无需加密，AES-ECB ，AES-CBC。

  控台选择加密方式后，在封装该参数时，按照加密方式，以银行编码+银行合作方编码如JTYHWZJS2在Apollo中找到匹配的加密key，对参数进行加密后再封装。

![](https://raw.githubusercontent.com/hubo1989/mypic/main/image/1757580166973.png?token=AAF4AIAF24GFF7UH2PBKJPDIYKF4K)

  三、修复签名配置区域加签顺序不生效的问题

同时将文案按图片内容修改

![](https://raw.githubusercontent.com/hubo1989/mypic/main/image/1757580181342.png?token=AAF4AIC64MDKYOCWUUN3ZE3IYKF5G)
